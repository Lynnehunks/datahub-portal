
<div id="sidebar">
  <div class="logo">
    <img src="_content/Datahub.Shared/img/datahub-logo-v2.png" />
  </div>
  <div class="links">
    @foreach(var link in GetLinks())
    {
      <NavLink class="@link.Color" href="@link.Href" Match="NavLinkMatch.All" ActiveClass="active">
        <i class="@link.Icon"></i>
        @Localizer[@link.Label]
      </NavLink>
    }
    @foreach(var link in GetAuthorizedLinks())
    {
      <AuthorizeView Roles="@string.Join(',', link.Roles)">
        <NavLink class="@link.Color" href="@link.Href" Match="NavLinkMatch.All" ActiveClass="active">
          <i class="@link.Icon"></i>
          @Localizer[@link.Label]
        </NavLink>
      </AuthorizeView>
    }
  </div>
</div>

@code {

  private List<(string Href, string Icon, string Label, string Color)> GetLinks()
  {
    return new List<(string, string, string, string)>()
    {
      ("/", "fad fa-home", "SIDEBAR.Home", "blue"),
      ("/storage", "fad fa-hdd", "SIDEBAR.Storage", "indigo"),
      ("/resources", "fad fa-project-diagram", "SIDEBAR.Resources", "purple"),
      ("/datasets", "fad fa-cabinet-filing", "SIDEBAR.Datasets", "pink"),
      ("/powerbi", "fad fa-chart-bar", "SIDEBAR.PowerBI", "yellow"),
      ("/admin", "fad fa-user-cog", "SIDEBAR.Admin", "green")
    };
  }

  private List<(string Href, string Icon, string Label, string Color, List<string> Roles)> GetAuthorizedLinks()
  {
    return new List<(string, string, string, string, List<string>)>()
    {
      ("/admin", "fad fa-user-cog", "SIDEBAR.Admin", "green",
        new List<string>()
        {
          "datahub-admin",
          "project-admin"
        }
      )
    };
  }
}